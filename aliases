#!/bin/zsh
setopt COMPLETE_ALIASES
alias vim='nvim'
alias ag='ag --color-match="1;031"'
alias -g E=' | egrep '
alias -g G=' | grep -i '
alias -g NOLOG=' | egrep -v $LOG '
alias -g NOTEST="--ignore '*.unit.js' --ignore '*.spec.js'"
alias chalk='source $DOTFILES/base16-shell/scripts/base16-chalk.sh && THEME=base16-chalk'
#we pipe overwrite '>' to a file instead of openning it derectly in vim '| vim -'
#because we want to exit ZZ 
alias -g V=' > ~/.vim-tmp/t && vim ~/.vim-tmp/t -c '\''nmap q :q!<cr>'\'
alias -g CV=' > ~/.vim-tmp/t && vim ~/.vim-tmp/t -c '\''nmap q :q!<cr>'\'
alias -g VC=' > ~/.vim-tmp/t && vim ~/.vim-tmp/t -c '\''nmap q :q!<cr>'\'
alias vc='chalk && vim '
alias vimc='chalk && vim '
alias cvim='chalk && vim '
# git status in vim. Due to our vim setup, "map ,d" opens diff in webstorm. also all vim-fugitive stuff work
alias -g ME='--author=davidsu'
alias -g NO='--name-only'
alias -g M='--max-count=100'
alias -g S='-S Session.vim -c '\''au VimEnter * silent! Obsession<cr>'\'
alias gsv='vim -c '\''source $DOTFILES/config/nvim/startup/gitstatus.vim'\'' $(git rev-parse --show-toplevel)/.git/index'
# git log in vim. Limit to last 500 commits otherwise its pretty slow.
alias glv='git log --max-count=500 --name-only V'
function specialchars(){echo '⇧ ⌘ ⌥ ⇥ ⌫  ⌦  ⎋  ⌃ '}
function findfunction(){
    ag '(function\s+'$1')|('$1'\s*:)' ${@:2}
}
alias ff='findfunction'
function findalias(){
    for dir in $(echo ~/.dotFiles && echo $PATH | tr ':' '\n' | grep '^/Users/' | grep -v '\.nvm')
    do
       ack $1 $dir #ack is like grep, recursive by default, great option
    done
}
function go(){
    #cd into directory containing symlink
    cd $(dirname $(which $1)) && cd $(dirname $(readlink $(which $1)))
}
alias resetnpm='rm -rf ~/.npm && rm -rf node_modules && npm cache clear && npm i'
alias egrep='egrep --color=auto'
alias setbash='chsh -s /bin/bash'
alias reload='. ~/.zshrc'
# alias grep='egrep'
alias ls='ls -GF1'
alias updatedb='sudo /usr/libexec/locate.updatedb' #for locate's sake
alias opengabi='cd ~/Developer/selenium/criancas/selenium && jasmine spec/escola.spec.js gabi'
alias hidden='ls -d .*'
alias restart='sudo shutdown -r now'
alias textedit='open -a TextEdit'
alias lockscreen='pmset displaysleepnow'
alias mongod='mongod --dbpath ~/Dropbox/Mongodb/data24'

alias pdf2jpeg='echo "enter filename : " && read MSG && sips -s format jpeg "$MSG".pdf --out "$MSG".jpeg'

alias startitsmylife='osascript ~/Developer/ItsMyLife/start_Mongod_Nodemon_Watch.scpt'

#GIT STUFF
alias gacp='echo "enter commit message : " && read MSG && git add . && git commit -m "$MSG" && git push'
alias gmdc='git merge --no-commit --no-ff'

alias open8080='open http://localhost:8080'
alias npmprivate='npm config set registry http://repo.dev.wix/artifactory/api/npm/npm-repos'
alias npmpublic='npm config set registry https://registry.npmjs.org/'
function spectrum_escape(){
    for COLOR in {0..255}
    do
        for STYLE in "38;5"
        do
            TAG="\033[${STYLE};${COLOR}m"
            STR="${STYLE};${COLOR}"
            echo -n "${TAG}${STR}${NONE}  "
        done
        echo
    done
}
